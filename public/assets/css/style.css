:root{--bg:#ffffff;--fg:#222;--muted:#666;--primary:#3b82f6;--danger:#ef4444;--success:#22c55e;--card:#f7f7f8}
[data-theme="dark"]{--bg:#0b0c10;--fg:#e5e7eb;--muted:#9ca3af;--primary:#60a5fa;--danger:#f87171;--success:#34d399;--card:#111827}
*{box-sizing:border-box}
html,body{transition:background-color .25s ease,color .25s ease}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;line-height:1.45;background:var(--bg);color:var(--fg)}
a{color:var(--primary);text-decoration:none}
header,footer{padding:12px 16px;background:var(--card);border-bottom:1px solid #ddd;transition:background-color .25s ease,color .25s ease,border-color .25s ease}
nav{display:flex;gap:12px;align-items:center;justify-content:space-between}
.container{max-width:960px;margin:0 auto;padding:16px}
.btn{display:inline-block;padding:8px 12px;border-radius:8px;border:1px solid transparent;background:var(--primary);color:#fff;cursor:pointer;transition:background-color .2s ease,border-color .2s ease,color .2s ease,transform .08s ease,box-shadow .2s ease,filter .2s ease;position:relative;overflow:hidden}
.btn:hover{filter:brightness(.97);box-shadow:0 2px 8px rgba(0,0,0,.08)}
.btn:active{transform:scale(.98)}
.btn:focus-visible{outline:2px solid color-mix(in srgb, var(--primary) 70%, transparent);outline-offset:2px}
.btn.secondary{background:transparent;color:var(--primary);border-color:var(--primary)}
.btn.secondary:hover{background:var(--primary);color:#fff}
.btn.danger{background:var(--danger)}
.btn.danger:hover{filter:brightness(.97)}
.btn.success{background:var(--success)}
.btn.success:hover{filter:brightness(.97)}
.card{background:var(--card);padding:12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);transition:background-color .25s ease,color .25s ease,border-color .25s ease,box-shadow .25s ease,transform .2s ease}
.card:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(0,0,0,.08)}
.grid{display:grid;gap:12px}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:720px){.grid.cols-2,.grid.cols-3{grid-template-columns:1fr}}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;border-bottom:1px solid #ddd;transition:background-color .25s ease,color .25s ease,border-color .25s ease}
tbody tr{transition:background-color .2s ease}
tbody tr:hover{background-color:rgba(0,0,0,.04)}
.flash{padding:8px 12px;border-radius:8px;margin-bottom:8px}
.flash.success{background:#ecfdf5;color:#065f46}
.flash.error{background:#fef2f2;color:#991b1b}
.flash.info{background:#eff6ff;color:#1e3a8a}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;background:#e5e7eb;color:#111;transition:background-color .25s ease,color .25s ease}
.muted{color:var(--muted)}
.right{float:right}
.input{width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;background:transparent;color:inherit;transition:background-color .2s ease,color .2s ease,border-color .2s ease,box-shadow .2s ease}
.input:focus{border-color:var(--primary);box-shadow:0 0 0 3px color-mix(in srgb, var(--primary) 25%, transparent);outline:0}
.field{margin-bottom:10px}
.row{display:flex;gap:10px;flex-wrap:wrap}
.kpi{display:flex;flex-direction:column;gap:6px}
.kpi .value{font-size:1.3rem;font-weight:700}
canvas{max-width:100%}
.table-scroll{overflow:auto}
.nav-links a{margin-right:10px}
.nav-links a{position:relative;color:var(--fg);transition:color .2s ease}
.nav-links a:hover{color:var(--primary)}
.nav-links a:after{content:"";position:absolute;left:0;right:0;bottom:-2px;height:2px;background:currentColor;transform:scaleX(0);transform-origin:left;transition:transform .2s ease}
.nav-links a:hover:after{transform:scaleX(1)}
.bell{position:relative}
.bell .dot{position:absolute;top:-2px;right:-2px;background:var(--danger);color:#fff;border-radius:999px;font-size:10px;padding:1px 4px}

/* Smooth theme transitions but respect reduced motion */
@media (prefers-reduced-motion: reduce){
	*,*::before,*::after{transition:none !important}
}

/* Button ripple effect */
.btn .rfx{position:absolute;border-radius:50%;transform:translate(-50%,-50%);pointer-events:none;background:radial-gradient(closest-side, rgba(255,255,255,.35), rgba(255,255,255,0));animation:ripple .6s ease-out forwards}
@keyframes ripple{from{opacity:.6;transform:translate(-50%,-50%) scale(0)}to{opacity:0;transform:translate(-50%,-50%) scale(1)}}

/* Flash messages enter animation */
.flash{animation:fadeSlide .25s ease}
@keyframes fadeSlide{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}